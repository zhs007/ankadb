syntax = "proto3";

package ankadbpb;

message SnapshotMgr {
    int64 maxSnapshotID = 1;
    repeated int64 snapshots = 2;
}

message Snapshot {
    int64 snapshotID = 1;
    repeated string keys = 2;
    int64 createTime = 3;
}

message Query {
    string queryData = 1;
    string varData = 2;
}

message ReplyQuery {
    string err = 1;
    string result = 2;
}

service AnkaDBServ {
    rpc query (Query) returns (ReplyQuery) {}
    rpc queryStream (Query) returns (stream ReplyQuery) {}
}